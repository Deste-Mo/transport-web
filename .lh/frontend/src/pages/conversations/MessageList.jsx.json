{
    "sourceFile": "frontend/src/pages/conversations/MessageList.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1722234790713,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1722236246063,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,27 +68,6 @@\n         </motion.section>\r\n     )\r\n }\r\n \r\n-// const DiscussionCard = ({profileImage, messageSeen, fullName, accountType, lastMessage, lastMessageTime}) => {\r\n-   \r\n-//     return (\r\n-//         <div className={\"flex items-center justify-between cursor-pointer w-full hover:bg-primary-20 p-6 rounded-xl\"}>\r\n-//             <div className=\"flex items-center gap-2\">\r\n-//                 <img className=\"size-[40px] object-cover rounded-full\" src={ProfileImage}/>\r\n-//                 <div className=\"flex flex-col gap-1 items-start\">\r\n-//                     <p className=\"text-black-100 text-small-1\">RAHARISOA Haingonirina (Client)</p>\r\n-//                     <p className={\"text-black-100 font-bold text-small-1\"}>\r\n-//                         Lorem ipsum dolor sit amet\r\n-//                     </p>\r\n-//                 </div>\r\n-//             </div>\r\n-//             <div className=\"flex items-center gap-1\">\r\n-//                 <div className=\"size-[10px] rounded-full bg-primary-100\"\r\n-//                 ></div>\r\n-//                 <p className={\"text-small-2 text-black-80 font-light\"}>Il y a 10 min</p>\r\n-//             </div>\r\n-//         </div>\r\n-// )\r\n-// }\r\n \r\n export default MessageList;\n\\ No newline at end of file\n"
                }
            ],
            "date": 1722234790713,
            "name": "Commit-0",
            "content": "import {Button, TextInput} from \"../../styles/components\";\r\nimport React, {useState, useEffect} from \"react\";\r\nimport {useAuth} from \"../../context/AuthProvider\";\r\nimport {useApp} from \"../../context/AppPorvider\";\r\nimport {useSocketContext} from \"../../context/SocketContext\";\r\nimport ActiveUser from \"../../components/pages/conversations/ActiveUser.jsx\";\r\nimport {SubHeader} from \"../../components/pages/SubHeader.jsx\";\r\nimport SearchBar from \"../../components/ui/SearchBar.jsx\";\r\nimport ProfileImage from \"../../assets/images/OIP.jpg\";\r\nimport Conv from \"../../components/pages/conversations/Conversation.jsx\";\r\nimport {motion} from \"framer-motion\";\r\nimport {appVariants} from \"../../animations/variants.js\";\r\n\r\n\r\nconst MessageList = () => {\r\n\r\n    const {token, loading} = useAuth();\r\n\r\n    const {conversations, handleShowConversation, friends, handleFriends} = useApp();\r\n\r\n    const {socket} = useSocketContext();\r\n\r\n    const {messages, setMessages} = useApp();\r\n\r\n    useEffect(() => {\r\n\r\n        handleFriends();\r\n        handleShowConversation();\r\n\r\n        socket?.on(\"newMessage\", (newMessage) => {\r\n            setMessages([...messages, newMessage]);\r\n            handleShowConversation();\r\n        });\r\n\r\n        return () => socket?.off(\"newMessage\")\r\n\r\n    }, [socket, token, setMessages])\r\n\r\n    return (\r\n        <motion.section className=\"flex flex-col items-center justify-start w-full gap-6 relative  min-h-screen\" variants={appVariants} initial=\"hidden\" whileInView=\"visible\" viewport={{once : true}}>\r\n            <SubHeader name={\"Messages\"} icon={\"bi bi-chat\"}/>\r\n            <div\r\n                className=\"w-full h-fit bg-white-100 flex justify-start overflow-auto p-4 border border-black-0 rounded-2xl scrollbar-none \">\r\n                {friends.length > 0 ?\r\n                    friends.map(friend => (\r\n                        <ActiveUser key={friend.userid} friend={friend}/>\r\n                    )) :\r\n                    <div>\r\n                        <Button icon=\"bi bi-plus-lg\">Ajouter un ami</Button>\r\n                    </div>\r\n                }\r\n            </div>\r\n\r\n            <SearchBar variant={\"fill\"} block size={\"lg\"} placeholder={\"Rechercher un ami\"}/>\r\n\r\n            <div className=\"w-full  h-[70%] bg-white-100  flex flex-col gap-4 overflow-hidden p-4  rounded-xl border border-black-0\">\r\n                {conversations.length > 0 ?\r\n                    conversations.map(conversation => (\r\n                            <Conv key={conversation.userid} id={conversation.userid} userToChat={conversation}/>\r\n                        )\r\n                    )\r\n                    :\r\n                    <p className=\"text-black-80  text-center\">\r\n                        Commencer une conversation !\r\n                    </p>\r\n                }\r\n            </div>\r\n        </motion.section>\r\n    )\r\n}\r\n\r\n// const DiscussionCard = ({profileImage, messageSeen, fullName, accountType, lastMessage, lastMessageTime}) => {\r\n   \r\n//     return (\r\n//         <div className={\"flex items-center justify-between cursor-pointer w-full hover:bg-primary-20 p-6 rounded-xl\"}>\r\n//             <div className=\"flex items-center gap-2\">\r\n//                 <img className=\"size-[40px] object-cover rounded-full\" src={ProfileImage}/>\r\n//                 <div className=\"flex flex-col gap-1 items-start\">\r\n//                     <p className=\"text-black-100 text-small-1\">RAHARISOA Haingonirina (Client)</p>\r\n//                     <p className={\"text-black-100 font-bold text-small-1\"}>\r\n//                         Lorem ipsum dolor sit amet\r\n//                     </p>\r\n//                 </div>\r\n//             </div>\r\n//             <div className=\"flex items-center gap-1\">\r\n//                 <div className=\"size-[10px] rounded-full bg-primary-100\"\r\n//                 ></div>\r\n//                 <p className={\"text-small-2 text-black-80 font-light\"}>Il y a 10 min</p>\r\n//             </div>\r\n//         </div>\r\n// )\r\n// }\r\n\r\nexport default MessageList;"
        }
    ]
}