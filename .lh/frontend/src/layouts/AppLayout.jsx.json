{
    "sourceFile": "frontend/src/layouts/AppLayout.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 10,
            "patches": [
                {
                    "date": 1722235525797,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1722235533765,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,10 @@\n import {Header} from \"../components/pages/Header.jsx\";\n import {SERVERLINK} from \"../constants/index.js\";\n import {motion} from \"framer-motion\";\n import {appVariants} from \"../animations/variants.js\";\n+import { useEffect } from \"react\";\n+import { useSocketContext } from \"../context/SocketContext.jsx\";\n \n const AppLayout = () => {\n     const {token, loading, personalInformation} = useAuth();\n     const user = personalInformation;\n"
                },
                {
                    "date": 1722235544903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n \n const AppLayout = () => {\n     const {token, loading, personalInformation} = useAuth();\n     const user = personalInformation;\n-    const { handleCountUnread, countUnread } = useApp();\n+    const { handleCountUnread, countUnread } = useAuthpp();\n \n     const { socket } = useSocketContext();\n \n     useEffect(() => {\n"
                },
                {
                    "date": 1722235551319,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,36 @@\n+import {useAuth} from \"../context/AuthProvider.jsx\";\n+import {Navigate, Outlet} from \"react-router-dom\";\n+import {Header} from \"../components/pages/Header.jsx\";\n+import {SERVERLINK} from \"../constants/index.js\";\n+import {motion} from \"framer-motion\";\n+import {appVariants} from \"../animations/variants.js\";\n+import { useEffect } from \"react\";\n+import { useSocketContext } from \"../context/SocketContext.jsx\";\n+import { useApp } from \"../context/AppPorvider.jsx\";\n+\n+const AppLayout = () => {\n+    const {token, loading, personalInformation} = useAuth();\n+    const user = personalInformation;\n+    const { handleCountUnread, countUnread } = useApp();\n+\n+    const { socket } = useSocketContext();\n+\n+    useEffect(() => {\n+        socket?.on(\"newMessage\", () => {\n+            handleCountUnread();\n+        });\n+\n+        return () => socket?.off(\"newMessage\")\n+    }, [socket, countUnread, handleCountUnread]);\n+    \n+    return loading ? <p className=\"text-black-100 text-title-3\">Loading ...</p> : token ?\n+        <section className=\"relative\">\n+            <Header profileImage={SERVERLINK + \"/\" + user.profile || \"X.png\"}/>\n+            <div className=\"mt-[7em]\" >\n+                <Outlet/>\n+            </div>\n+        </section> : <Navigate to=\"/login\"/>;\n+}\n+\n+\n+export default AppLayout;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1722235561238,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,34 @@\n+import {useAuth} from \"../context/AuthProvider.jsx\";\n+import {Navigate, Outlet} from \"react-router-dom\";\n+import {Header} from \"../components/pages/Header.jsx\";\n+import {SERVERLINK} from \"../constants/index.js\";\n+import { useEffect } from \"react\";\n+import { useSocketContext } from \"../context/SocketContext.jsx\";\n+import { useApp } from \"../context/AppPorvider.jsx\";\n+\n+const AppLayout = () => {\n+    const {token, loading, personalInformation} = useAuth();\n+    const user = personalInformation;\n+    const { handleCountUnread, countUnread } = useApp();\n+\n+    const { socket } = useSocketContext();\n+\n+    useEffect(() => {\n+        socket?.on(\"newMessage\", () => {\n+            handleCountUnread();\n+        });\n+\n+        return () => socket?.off(\"newMessage\")\n+    }, [socket, countUnread, handleCountUnread]);\n+    \n+    return loading ? <p className=\"text-black-100 text-title-3\">Loading ...</p> : token ?\n+        <section className=\"relative\">\n+            <Header profileImage={SERVERLINK + \"/\" + user.profile || \"X.png\"}/>\n+            <div className=\"mt-[7em]\" >\n+                <Outlet/>\n+            </div>\n+        </section> : <Navigate to=\"/login\"/>;\n+}\n+\n+\n+export default AppLayout;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1722238063404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,44 +19,16 @@\n         });\n \n         return () => socket?.off(\"newMessage\")\n     }, [socket, countUnread, handleCountUnread]);\n-    \n-    return loading ? <p className=\"text-black-100 text-title-3\">Loading ...</p> : token ?\n-        <section className=\"relative\">\n-            <Header profileImage={SERVERLINK + \"/\" + user.profile || \"X.png\"}/>\n-            <div className=\"mt-[7em]\" >\n-                <Outlet/>\n-            </div>\n-        </section> : <Navigate to=\"/login\"/>;\n-}\n \n-\n-export default AppLayout;\n-import {useAuth} from \"../context/AuthProvider.jsx\";\n-import {Navigate, Outlet} from \"react-router-dom\";\n-import {Header} from \"../components/pages/Header.jsx\";\n-import {SERVERLINK} from \"../constants/index.js\";\n-import {motion} from \"framer-motion\";\n-import {appVariants} from \"../animations/variants.js\";\n-import { useEffect } from \"react\";\n-import { useSocketContext } from \"../context/SocketContext.jsx\";\n-import { useApp } from \"../context/AppPorvider.jsx\";\n-\n-const AppLayout = () => {\n-    const {token, loading, personalInformation} = useAuth();\n-    const user = personalInformation;\n-    const { handleCountUnread, countUnread } = useApp();\n-\n-    const { socket } = useSocketContext();\n-\n     useEffect(() => {\n-        socket?.on(\"newMessage\", () => {\n-            handleCountUnread();\n+        handleNotificationShow();\n+        socket?.on(\"newNotif\", () => {\n+            handleNotificationShow();\n         });\n-\n-        return () => socket?.off(\"newMessage\")\n-    }, [socket, countUnread, handleCountUnread]);\n+        return () => socket?.off(\"newNotif\");\n+    }, [socket])\n     \n     return loading ? <p className=\"text-black-100 text-title-3\">Loading ...</p> : token ?\n         <section className=\"relative\">\n             <Header profileImage={SERVERLINK + \"/\" + user.profile || \"X.png\"}/>\n@@ -66,40 +38,5 @@\n         </section> : <Navigate to=\"/login\"/>;\n }\n \n \n-export default AppLayout;\n-import {useAuth} from \"../context/AuthProvider.jsx\";\n-import {Navigate, Outlet} from \"react-router-dom\";\n-import {Header} from \"../components/pages/Header.jsx\";\n-import {SERVERLINK} from \"../constants/index.js\";\n-import {motion} from \"framer-motion\";\n-import {appVariants} from \"../animations/variants.js\";\n-import { useEffect } from \"react\";\n-import { useSocketContext } from \"../context/SocketContext.jsx\";\n-\n-const AppLayout = () => {\n-    const {token, loading, personalInformation} = useAuth();\n-    const user = personalInformation;\n-    const { handleCountUnread, countUnread } = useAuthpp();\n-\n-    const { socket } = useSocketContext();\n-\n-    useEffect(() => {\n-        socket?.on(\"newMessage\", () => {\n-            handleCountUnread();\n-        });\n-\n-        return () => socket?.off(\"newMessage\")\n-    }, [socket, countUnread, handleCountUnread]);\n-    \n-    return loading ? <p className=\"text-black-100 text-title-3\">Loading ...</p> : token ?\n-        <section className=\"relative\">\n-            <Header profileImage={SERVERLINK + \"/\" + user.profile || \"X.png\"}/>\n-            <div className=\"mt-[7em]\" >\n-                <Outlet/>\n-            </div>\n-        </section> : <Navigate to=\"/login\"/>;\n-}\n-\n-\n export default AppLayout;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1722238074319,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,42 @@\n+import {useAuth} from \"../context/AuthProvider.jsx\";\n+import {Navigate, Outlet} from \"react-router-dom\";\n+import {Header} from \"../components/pages/Header.jsx\";\n+import {SERVERLINK} from \"../constants/index.js\";\n+import { useEffect } from \"react\";\n+import { useSocketContext } from \"../context/SocketContext.jsx\";\n+import { useApp } from \"../context/AppPorvider.jsx\";\n+\n+const AppLayout = () => {\n+    const {token, loading, personalInformation} = useAuth();\n+    const user = personalInformation;\n+    const { handleCountUnread, countUnread, handle } = useApp();\n+\n+    const { socket } = useSocketContext();\n+\n+    useEffect(() => {\n+        socket?.on(\"newMessage\", () => {\n+            handleCountUnread();\n+        });\n+\n+        return () => socket?.off(\"newMessage\")\n+    }, [socket, countUnread, handleCountUnread]);\n+\n+    useEffect(() => {\n+        handleNotificationShow();\n+        socket?.on(\"newNotif\", () => {\n+            handleNotificationShow();\n+        });\n+        return () => socket?.off(\"newNotif\");\n+    }, [socket])\n+    \n+    return loading ? <p className=\"text-black-100 text-title-3\">Loading ...</p> : token ?\n+        <section className=\"relative\">\n+            <Header profileImage={SERVERLINK + \"/\" + user.profile || \"X.png\"}/>\n+            <div className=\"mt-[7em]\" >\n+                <Outlet/>\n+            </div>\n+        </section> : <Navigate to=\"/login\"/>;\n+}\n+\n+\n+export default AppLayout;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1722238080029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,9 @@\n \n const AppLayout = () => {\n     const {token, loading, personalInformation} = useAuth();\n     const user = personalInformation;\n-    const { handleCountUnread, countUnread, handle } = useApp();\n+    const { handleCountUnread, countUnread, handleCountUnread, handleNotificationShow } = useApp();\n \n     const { socket } = useSocketContext();\n \n     useEffect(() => {\n@@ -38,47 +38,5 @@\n         </section> : <Navigate to=\"/login\"/>;\n }\n \n \n-export default AppLayout;\n-import {useAuth} from \"../context/AuthProvider.jsx\";\n-import {Navigate, Outlet} from \"react-router-dom\";\n-import {Header} from \"../components/pages/Header.jsx\";\n-import {SERVERLINK} from \"../constants/index.js\";\n-import { useEffect } from \"react\";\n-import { useSocketContext } from \"../context/SocketContext.jsx\";\n-import { useApp } from \"../context/AppPorvider.jsx\";\n-\n-const AppLayout = () => {\n-    const {token, loading, personalInformation} = useAuth();\n-    const user = personalInformation;\n-    const { handleCountUnread, countUnread } = useApp();\n-\n-    const { socket } = useSocketContext();\n-\n-    useEffect(() => {\n-        socket?.on(\"newMessage\", () => {\n-            handleCountUnread();\n-        });\n-\n-        return () => socket?.off(\"newMessage\")\n-    }, [socket, countUnread, handleCountUnread]);\n-\n-    useEffect(() => {\n-        handleNotificationShow();\n-        socket?.on(\"newNotif\", () => {\n-            handleNotificationShow();\n-        });\n-        return () => socket?.off(\"newNotif\");\n-    }, [socket])\n-    \n-    return loading ? <p className=\"text-black-100 text-title-3\">Loading ...</p> : token ?\n-        <section className=\"relative\">\n-            <Header profileImage={SERVERLINK + \"/\" + user.profile || \"X.png\"}/>\n-            <div className=\"mt-[7em]\" >\n-                <Outlet/>\n-            </div>\n-        </section> : <Navigate to=\"/login\"/>;\n-}\n-\n-\n export default AppLayout;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1722238086968,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,9 @@\n \n const AppLayout = () => {\n     const {token, loading, personalInformation} = useAuth();\n     const user = personalInformation;\n-    const { handleCountUnread, countUnread, handleCountUnread, handleNotificationShow } = useApp();\n+    const { handleCountUnread, countUnread, handleNotificationShow } = useApp();\n \n     const { socket } = useSocketContext();\n \n     useEffect(() => {\n"
                },
                {
                    "date": 1722238119606,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,8 @@\n \n         return () => socket?.off(\"newMessage\")\n     }, [socket, countUnread, handleCountUnread]);\n \n-\n     \n     return loading ? <p className=\"text-black-100 text-title-3\">Loading ...</p> : token ?\n         <section className=\"relative\">\n             <Header profileImage={SERVERLINK + \"/\" + user.profile || \"X.png\"}/>\n"
                },
                {
                    "date": 1722243067726,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,36 @@\n+import {useAuth} from \"../context/AuthProvider.jsx\";\n+import {Navigate, Outlet} from \"react-router-dom\";\n+import {Header} from \"../components/pages/Header.jsx\";\n+import {SERVERLINK} from \"../constants/index.js\";\n+import { useEffect } from \"react\";\n+import { useSocketContext } from \"../context/SocketContext.jsx\";\n+import { useApp } from \"../context/AppPorvider.jsx\";\n+\n+const AppLayout = () => {\n+    const {token, loading, personalInformation} = useAuth();\n+    const user = personalInformation;\n+    const { handleCountUnread, countUnread, handleNotificationShow } = useApp();\n+\n+    const { socket } = useSocketContext();\n+\n+    useEffect(() => {\n+        socket?.on(\"newMessage\", () => {\n+            handleCountUnread();\n+        });\n+\n+        return () => socket?.off(\"newMessage\")\n+    }, [socket, countUnread, handleCountUnread]);\n+\n+    use\n+    \n+    return loading ? <p className=\"text-black-100 text-title-3\">Loading ...</p> : token ?\n+        <section className=\"relative\">\n+            <Header profileImage={SERVERLINK + \"/\" + user.profile || \"X.png\"}/>\n+            <div className=\"mt-[7em]\" >\n+                <Outlet/>\n+            </div>\n+        </section> : <Navigate to=\"/login\"/>;\n+}\n+\n+\n+export default AppLayout;\n\\ No newline at end of file\n"
                }
            ],
            "date": 1722235525797,
            "name": "Commit-0",
            "content": "import {useAuth} from \"../context/AuthProvider.jsx\";\nimport {Navigate, Outlet} from \"react-router-dom\";\nimport {Header} from \"../components/pages/Header.jsx\";\nimport {SERVERLINK} from \"../constants/index.js\";\nimport {motion} from \"framer-motion\";\nimport {appVariants} from \"../animations/variants.js\";\n\nconst AppLayout = () => {\n    const {token, loading, personalInformation} = useAuth();\n    const user = personalInformation;\n    const { handleCountUnread, countUnread } = useApp();\n\n    const { socket } = useSocketContext();\n\n    useEffect(() => {\n        socket?.on(\"newMessage\", () => {\n            handleCountUnread();\n        });\n\n        return () => socket?.off(\"newMessage\")\n    }, [socket, countUnread, handleCountUnread]);\n    \n    return loading ? <p className=\"text-black-100 text-title-3\">Loading ...</p> : token ?\n        <section className=\"relative\">\n            <Header profileImage={SERVERLINK + \"/\" + user.profile || \"X.png\"}/>\n            <div className=\"mt-[7em]\" >\n                <Outlet/>\n            </div>\n        </section> : <Navigate to=\"/login\"/>;\n}\n\n\nexport default AppLayout;"
        }
    ]
}